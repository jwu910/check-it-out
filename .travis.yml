language: node_js
cache:
  directories:
    - "node_modules"
node_js:
  - "node"
  - "lts/*"
  - "7"
  - "6"
  - "5"
  - "4"
script:
  - 'if [ "$TRAVIS_PULL_REQUEST" != "false" ]; then precise-commits --whitelist="src/**/*.js" --check-only --head=$TRAVIS_PULL_REQUEST_SHA --base=$(git merge-base HEAD $TRAVIS_BRANCH); fi'
  - npm test
